<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <title>Visualization - Final Project</title>
    <link rel="stylesheet" href="public/css/style.css"/>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v1.min.js"></script>
    <script type="text/javascript" src="public/js/jquery.min.js"></script>
    <script type="text/javascript" src="public/js/tooltip.js"></script>
    <script type="text/javascript" src="bower_components/d3/d3.js"></script>
    <script type="text/javascript" src="bower_components/d3-tip/index.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.9.0/d3-legend.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <!--This is stuff for the wordCloud, it lets the word cloud work, but kills the map...-->
    <!--<script src="http://d3js.org/d3.v3.min.js"></script>-->
    <!--<script src="public/d3.layout.cloud.js"></script>-->

    <!-- Bootstrap Core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>

<h1 id="title">Climate Change Players</h1>

<div id="year-chart" class="view">
</div>


<div id = "shiftChart" class = "view">
</div>

<div id = "electoral-vote" class = "view">
</div>


<div id = "votes-percentage" class = "view">
</div>
<!--I tried to integrate the word cloud here but it wasn't working-->
<div id= "wordCloud" class = "view">


</div>
<script>

    d3.csv("public/words.csv", function(rows) {

        console.log("rows: ", rows);

        var color = d3.scale.linear()
                .domain([0,1,2,3,4,5,6,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,100])
                .range(["#ddd", "#ccc", "#bbb", "#aaa", "#999", "#888", "#777", "#666", "#555", "#444", "#333", "#222"]);

        d3.layout.cloud().size([800, 350])
                .words(rows)
                .rotate(0)
                .fontSize(function(d) { return d.size; })
                .on("end", draw)
                .start();

        function draw(words) {
            d3.select("#wordCloud").append("svg")
                    .attr("width", 800)
                    .attr("height", 350)
                    .attr("class", "wordcloud")
                    .append("g")
                    // without the transform, words words would get cutoff to the left and top, they would
                    // appear outside of the SVG area
                    .attr("transform", "translate(320,200)")
                    .selectAll("text")
                    .data(words)
                    .enter().append("text")
                    .style("font-size", function(d) { return d.size + "px"; })
                    .style("fill", function(d, i) { return color(i); })
                    .attr("transform", function(d) {
                        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                    })
                    .text(function(d) { return d.text; });
        }

    });

</script>

<div id = "worldChart" class = "view">
    <h1>CO2 Emissions (kt)</h1>
    <div id = "controls" class="view">
        <select id="world_year" onchange="chooseData()">
            <option value="1990">1990</option>
            <option value="1991">1991</option>
            <option value="1992">1992</option>
            <option value="1993">1993</option>
            <option value="1994">1994</option>
            <option value="1995">1995</option>
            <option value="1996">1996</option>
            <option value="1997">1997</option>
            <option value="1998">1998</option>
            <option value="1999">1999</option>
            <option value="2000">2000</option>
            <option value="2001">2001</option>
            <option value="2002">2002</option>
            <option value="2003">2003</option>
            <option value="2004">2004</option>
            <option value="2005">2005</option>
            <option value="2006">2006</option>
            <option value="2007">2007</option>
            <option value="2008">2008</option>
            <option value="2009">2009</option>
            <option value="2010">2010</option>
            <option value="2011">2011</option>
            <option value="2012">2012</option>
            <option selected value="2013">2013</option>
            <option value="2014">2014</option>
            <option value="2015">2015</option>
        </select>
        <select id="world_data" onchange="chooseData()">
            <option value="0">Population, total</option>
            <option value="1">CO2 emissions (kg per PPP $ of GDP)</option>
            <option selected value="2">CO2 emissions (kt)</option>
            <option value="3">CO2 emissions (metric tons per capita)</option>
            <option value="4">CO2 emissions from electricity and heat production, total (% of total fuel combustion)</option>
            <option value="5">CO2 emissions from gaseous fuel consumption (% of total)</option>
            <option value="6">CO2 emissions from liquid fuel consumption (% of total)</option>
            <option value="7">CO2 emissions from manufacturing industries and construction (% of total fuel combustion)</option>
            <option value="8">CO2 emissions from other sectors, excluding residential buildings and commercial and public services (% of total fuel combustion)</option>
            <option value="9">CO2 emissions from residential buildings and commercial and public services (% of total fuel combustion)</option>
            <option value="10">CO2 emissions from solid fuel consumption (% of total)</option>
            <option value="11">Surface area (sq. km)</option>
            <option value="12">GDP (current US$)</option>
            <option value="13">GDP growth (annual %)</option>
            <option value="14">GDP per capita (current US$)</option>
        </select>
    </div>
    <div id="legend" class = "view"></div>
    <div id = "world" class = "view"></div>
</div>
<script type="application/javascript" src="public/js/worldChart.js"></script>
<script type="application/javascript" src="public/js/wordCloud.js"></script>
<script type="application/javascript" src="public/js/main.js"></script>



<p class="info">Matt Howa : U0805396, matt.j.howa@gmail.com,
    </br> Brandon Tobin : U0820304, brandontobin@cox.net,
    </br> Matt Wilden : U0920335, willdenms@gmail.com,
    </br><a id="GitHub_link" href="https://github.com/willdenms/dataviscourse-pr-climate_change_players.git">Github</a></p>

<!-- Bootstrap Core JavaScript -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

</body>
</html>
